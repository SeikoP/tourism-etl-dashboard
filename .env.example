# ============================================================================
# CORE ENVIRONMENT VARIABLES
# ============================================================================

# Airflow Core Settings
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres/airflow
AIRFLOW__CORE__DAGS_FOLDER=/opt/airflow/dags
AIRFLOW__CORE__BASE_LOG_FOLDER=/opt/airflow/logs
AIRFLOW__CORE__PLUGINS_FOLDER=/opt/airflow/plugins

# Security Keys (MUST BE CHANGED IN PRODUCTION)
AIRFLOW__CORE__FERNET_KEY=46BKJoQYlPPOexq0OhDZnIlNepKFf87WFwLbfzqDDho=
AIRFLOW__WEBSERVER__SECRET_KEY=a25mQ1FHTUh2MV9RT3o4eFHAHKFl7VVX

# Webserver Configuration
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=True
AIRFLOW__WEBSERVER__RBAC=True
AIRFLOW__WEBSERVER__AUTHENTICATE=True
AIRFLOW__WEBSERVER__AUTH_BACKEND=airflow.auth.backends.password_auth

# Celery Configuration
# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow
POSTGRES_DB=airflow
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ============================================================================
# CRAWL4AI CONFIGURATION
# ============================================================================

# Crawl4AI Service
CRAWL4AI_HOST=crawl4ai
CRAWL4AI_PORT=11235
CRAWL4AI_API_URL=http://crawl4ai:11235

# ============================================================================
# API CONFIGURATION
# ============================================================================

# FastAPI Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_LOG_LEVEL=info

# ============================================================================
# DATA PROCESSING CONFIGURATION
# ============================================================================

# Extraction Settings
EXTRACTION_BATCH_SIZE=50
EXTRACTION_CONCURRENT_LIMIT=10
EXTRACTION_DELAY_SECONDS=2
EXTRACTION_RETRY_ATTEMPTS=3
EXTRACTION_RATE_LIMIT_DELAY=1.0

# VietnamBooking Settings
VIETNAMBOOKING_BASE_URL=https://vietnambooking.com
VIETNAMBOOKING_USER_AGENTS=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Logging Configuration
LOG_LEVEL=INFO
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__LOGGING__FAB_LOGGING_LEVEL=WARN

# Flower (Celery Monitoring)
FLOWER_PORT=5555
FLOWER_BASIC_AUTH=admin:admin

# Performance Settings
AIRFLOW__CORE__PARALLELISM=32
AIRFLOW__CORE__MAX_ACTIVE_TASKS_PER_DAG=16
AIRFLOW__CORE__MAX_ACTIVE_RUNS_PER_DAG=16
EXTRACTION_MAX_RETRIES=3
EXTRACTION_TIMEOUT=30

# Data Storage
DATA_RAW_PATH=./data/raw
DATA_PROCESSED_PATH=./data/processed

# Docker Settings
COMPOSE_PROJECT_NAME=tourismflow